@using EntityLayer.Concreate
@model List<Skills>
@{
    ViewBag.Title = "Skills";
    Layout = "~/Views/Shared/_SiteLayout.cshtml";
}

@functions {
    public string GetColorClass(int percentage)
    {
        if (percentage >= 80)
            return "bg-success";   // Yeşil
        else if (percentage >= 50)
            return "bg-warning";   // Turuncu
        else
            return "bg-danger";    // Kırmızı
    }
}

<!-- /services -->
<section class="banner-bottom-wthree py-lg-5 py-md-5 py-4" id="skills">
    <div class="container">
        <div class="inner-sec-w3ls py-lg-5 py-4">
            <div class="info-about text-center">
                <h3 class="tittle-w3 text-uppercase mb-lg-5 mb-3">Yeteneklerim</h3>

                <div class="row mt-lg-5 mt-3">

                    <!-- First 3 -->
                    <div class="col-lg-12">
                        <div class="progress-info-content text-left">
                            <div class="skills-flex-row" style="display:flex;gap:100px;align-items:flex-end;margin-bottom:3rem;">

                                @for (int i = 0; i < Model.Take(3).Count(); i++)
                                {
                                    var item = Model.ElementAt(i);

                                    <div class="progress-one" data-aos="fade-up" style="flex:1">
                                        <h4 class="progress-tittle-w3 d-flex justify-content-between">
                                            <span>@item.SkillsName</span>
                                            <span class="text-muted">@item.SkillsPercentage%</span>
                                        </h4>

                                        <div class="progress">
                                            <div class="progress-bar progress-bar-striped @GetColorClass(int.Parse(item.SkillsPercentage))"
                                                 role="progressbar"
                                                 style="width:@(item.SkillsPercentage)%"
                                                 aria-valuenow="@item.SkillsPercentage"
                                                 aria-valuemin="0"
                                                 aria-valuemax="100">
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>
                        </div>
                    </div>

                    <!-- Last 3 -->
                    <div class="col-lg-12">
                        <div class="progress-info-content text-left">
                            <div class="skills-flex-row" style="display:flex;gap:100px;align-items:flex-end">

                                @for (int i = 0; i < Model.Skip(Model.Count - 3).Take(3).Count(); i++)
                                {
                                    var item = Model.Skip(Model.Count - 3).ElementAt(i);

                                    <div class="progress-one" data-aos="fade-up" style="flex:1">
                                        <h4 class="progress-tittle-w3 d-flex justify-content-between">
                                            <span>@item.SkillsName</span>
                                            <span class="text-muted">@item.SkillsPercentage%</span>
                                        </h4>

                                        <div class="progress">
                                            <div class="progress-bar progress-bar-striped @GetColorClass(int.Parse(item.SkillsPercentage))"
                                                 role="progressbar"
                                                 style="width:@(item.SkillsPercentage)%"
                                                 aria-valuenow="@item.SkillsPercentage"
                                                 aria-valuemin="0"
                                                 aria-valuemax="100">
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </div>
    </div>
</section>
<!-- //services -->
